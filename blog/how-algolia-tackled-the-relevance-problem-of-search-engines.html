<!doctype html>

<!--[if lt IE 7]><html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js lt-ie9 lt-ie8"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--> <html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js"><!--<![endif]-->

	<head>
		<meta charset="utf-8">

				<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>How Algolia tackled the relevance problem of search engines - Milliseconds Matter</title>

				<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width, initial-scale=0.75, maximum-scale=0.75"/>

				<link rel="apple-touch-icon" href="https://blog.algolia.com/wp-content/themes/algolia/library/images/apple-touch-icon.png">
		<link rel="icon" href="https://blog.algolia.com/wp-content/themes/algolia/favicon.png">
		<!--[if IE]>
			<link rel="shortcut icon" href="https://blog.algolia.com/wp-content/themes/algolia/favicon.ico">
		<![endif]-->
				<meta name="msapplication-TileColor" content="#f01d4f">
		<meta name="msapplication-TileImage" content="https://blog.algolia.com/wp-content/themes/algolia/library/images/win8-tile-icon.png">
    <meta name="theme-color" content="#121212">

		<link rel="pingback" href="https://blog.algolia.com/xmlrpc.php">

        
<!-- This site is optimized with the Yoast SEO plugin v4.5 - https://yoast.com/wordpress/plugins/seo/ -->

<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Milliseconds Matter &raquo; Feed" href="https://blog.algolia.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Milliseconds Matter &raquo; Comments Feed" href="https://blog.algolia.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Milliseconds Matter &raquo; How Algolia tackled the relevance problem of search engines Comments Feed" href="https://blog.algolia.com/how-algolia-tackled-the-relevance-problem-of-search-engines/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/blog.algolia.com\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wp-quicklatex-format-css'  href='https://blog.algolia.com/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css' type='text/css' media='all' />
<link rel='stylesheet' id='jquery-ui-css'  href='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/jquery/jquery-ui.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='algolia_styles-css'  href='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/themes/algolia/styles.css' type='text/css' media='all' />
<link rel='stylesheet' id='cresta-social-crestafont-css'  href='https://blog.algolia.com/wp-content/plugins/cresta-social-share-counter/css/csscfont.css' type='text/css' media='all' />
<link rel='stylesheet' id='cresta-social-wp-style-css'  href='https://blog.algolia.com/wp-content/plugins/cresta-social-share-counter/css/cresta-wp-css.css' type='text/css' media='all' />
<link rel='stylesheet' id='cresta-social-googlefonts-css'  href='//fonts.googleapis.com/css?family=Noto+Sans:400,700' type='text/css' media='all' />
<link rel='stylesheet' id='googleFonts-css'  href='//fonts.googleapis.com/css?family=Raleway%3A400%2C600%2C700' type='text/css' media='all' />
<link rel='stylesheet' id='custom-algolia-scripts-css'  href='https://blog.algolia.com/wp-content/themes/algolia/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='bones-stylesheet-css'  href='https://blog.algolia.com/wp-content/themes/algolia/library/css/style.css' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='bones-ie-only-css'  href='https://blog.algolia.com/wp-content/themes/algolia/library/css/ie.css' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='https://blog.algolia.com/wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/jquery/jquery-ui.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/algolia/algoliasearch.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/hogan/hogan.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/typeahead/typeahead.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var algoliaSettings = {"app_id":"latency","search_key":"6be0576ff61c053d5f9a3225e2a90f76","indices":[{"index_name":"wordpress_post","name":"Articles","order1":0,"order2":0}],"sorting_indices":[{"index_name":"wordpress_all_date_desc","label":""}],"index_name":"wordpress_","type_of_search":["instant"],"instant_jquery_selector":".algoliasearchcontainer","facets":[{"tax":"category","name":"","order":"19","type":"menu"}],"number_by_type":"3","number_by_page":"12","search_input_selector":"[name='s']","plugin_url":"https:\/\/blog.algolia.com\/wp-content\/plugins\/algoliasearch-wordpress-master\/","theme":{"dir":"algolia","name":"New Algolia","screenshot":"https:\/\/blog.algolia.com\/wp-content\/plugins\/algoliasearch-wordpress-master\/core\/..\/themes\/algolia\/screenshot.png","screenshot_autocomplete":"https:\/\/blog.algolia.com\/wp-content\/plugins\/algoliasearch-wordpress-master\/core\/..\/themes\/algolia\/screenshot.png","description":"","facet_types":{"menu":"Menu"}}};
var searchState = {"page":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/front/main.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var themesSettings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/themes/algolia/theme.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/themes/algolia/library/js/libs/modernizr.custom.min.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js'></script>
<link rel='https://api.w.org/' href='https://blog.algolia.com/wp-json/' />
<link rel='shortlink' href='https://blog.algolia.com/?p=4736' />
<link rel="alternate" type="application/json+oembed" href="https://blog.algolia.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://blog.algolia.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F&#038;format=xml" />
<style type='text/css'>
			@media (max-width : 640px) {
				#crestashareicon {
					display:none !important;
				}
			}
		#crestashareicon {position:fixed; top:30%; right:20px; float:left;z-index:99;}

		#crestashareicon .sbutton {clear:both;display:none;}
		#crestashareicon .sbutton {float:right;}.cresta-share-icon.first_style .cresta-the-count {left: -11px;}#crestashareiconincontent {float: none; margin: 0 auto; display: table;}</style><script type="text/javascript">
(function(url){
	if(/(?:Chrome\/26\.0\.1410\.63 Safari\/537\.31|WordfenceTestMonBot)/.test(navigator.userAgent)){ return; }
	var addEvent = function(evt, handler) {
		if (window.addEventListener) {
			document.addEventListener(evt, handler, false);
		} else if (window.attachEvent) {
			document.attachEvent('on' + evt, handler);
		}
	};
	var removeEvent = function(evt, handler) {
		if (window.removeEventListener) {
			document.removeEventListener(evt, handler, false);
		} else if (window.detachEvent) {
			document.detachEvent('on' + evt, handler);
		}
	};
	var evts = 'contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop keydown keypress keyup mousedown mousemove mouseout mouseover mouseup mousewheel scroll'.split(' ');
	var logHuman = function() {
		var wfscr = document.createElement('script');
		wfscr.type = 'text/javascript';
		wfscr.async = true;
		wfscr.src = url + '&r=' + Math.random();
		(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(wfscr);
		for (var i = 0; i < evts.length; i++) {
			removeEvent(evts[i], logHuman);
		}
	};
	for (var i = 0; i < evts.length; i++) {
		addEvent(evts[i], logHuman);
	}
})('//blog.algolia.com/?wordfence_logHuman=1&hid=BD137861190D15D200EDD7FFB89B439A');
</script>		<style>
		.gist table {
			margin-bottom: 0 !important;
			table-layout: auto !important;
		}
		.gist .line-numbers
		{
			width: 4em !important;
		}
		.gist .line,
		.gist .line-number
		{
			font-size: 12px !important;
			height: 18px !important;
			line-height: 18px !important;
		}
		.gist .line
		{
			white-space: pre !important;
			width: auto !important;
			word-wrap: normal !important;
		}
		.gist .line span
		{
			word-wrap: normal !important;
		}
		</style>
		<style type='text/css'>img#wpstats{display:none}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>

<!-- START - Facebook Open Graph, Google+ and Twitter Card Tags 2.0.8 -->
 <!-- Facebook Open Graph -->
  <meta property="og:locale" content="en_GB"/>
  <meta property="og:site_name" content="Milliseconds Matter"/>
  <meta property="og:title" content="How Algolia tackled the relevance problem of search engines"/>
  <meta property="og:url" content="https://blog.algolia.com/how-algolia-tackled-the-relevance-problem-of-search-engines/"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="When we started Algolia, we wanted to build an offline search SDK for mobile applications. Unlike other search engines on the market, we couldn’t rely on pre-existing search engine software such as Lucene because they weren’t available on mobile.

We had to build everything from the ground up with"/>
  <meta property="og:image" content="https://blog.algolia.com/wp-content/uploads/2016/03/algorythm.png"/>
  <meta property="article:published_time" content="2016-03-10T13:44:22+00:00"/>
  <meta property="article:modified_time" content="2016-05-24T12:30:46+00:00" />
  <meta property="og:updated_time" content="2016-05-24T12:30:46+00:00" />
  <meta property="article:section" content="Technology"/>
 <!-- Google+ / Schema.org -->
  <meta itemprop="name" content="How Algolia tackled the relevance problem of search engines"/>
  <meta itemprop="description" content="When we started Algolia, we wanted to build an offline search SDK for mobile applications. Unlike other search engines on the market, we couldn’t rely on pre-existing search engine software such as Lucene because they weren’t available on mobile.

We had to build everything from the ground up with"/>
  <meta itemprop="image" content="https://blog.algolia.com/wp-content/uploads/2016/03/algorythm.png"/>
 <!-- Twitter Cards -->
  <meta name="twitter:title" content="How Algolia tackled the relevance problem of search engines"/>
  <meta name="twitter:url" content="https://blog.algolia.com/how-algolia-tackled-the-relevance-problem-of-search-engines/"/>
  <meta name="twitter:description" content="When we started Algolia, we wanted to build an offline search SDK for mobile applications. Unlike other search engines on the market, we couldn’t rely on pre-existing search engine software such as Lucene because they weren’t available on mobile.

We had to build everything from the ground up with"/>
  <meta name="twitter:image" content="https://blog.algolia.com/wp-content/uploads/2016/03/algorythm.png"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@algolia"/>
 <!-- SEO -->
 <!-- Misc. tags -->
<!-- END - Facebook Open Graph, Google+ and Twitter Card Tags 2.0.8 -->

    
        <link rel="stylesheet" href="https://blog.algolia.com/wp-content/themes/algolia/library/css/icons.css">

	</head>

	<body class="post-template-default single single-post postid-4736 single-format-standard custom-background" itemscope itemtype="http://schema.org/WebPage">

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N8JP8G"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N8JP8G');</script>
    <!-- End Google Tag Manager -->

		<div id="container">

			<header class="header" role="banner" itemscope itemtype="http://schema.org/WPHeader">

				<div id="inner-header" class="wrap cf">
          <ul id="links">
            <li><a href="https://www.algolia.com/jobs">Jobs</a></li>
            <li><a class="btn-primary" href="https://www.algolia.com/">Go to algolia.com</a></li>
          </ul>
          <a id="logo" href="/"><img src="https://www.algolia.com/static_assets/images/flat2/algolia/algolia-logo-45a5b66b.svg" width="130" alt="algolia"/></a>
										<p id="title" class="h1" itemscope itemtype="http://schema.org/Organization"><a href="https://blog.algolia.com" rel="nofollow">Milliseconds Matter</a></p>

										<p id="tagline">The Official Algolia Blog</p>


					<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
						
					</nav>

				</div>

			</header>
			<div id="content">
				<div id="inner-content" class="wrap cf">

					<a class="single-back" href="#" onclick="goBack();">&lt;&nbsp;Back</a>

					<div id="search-input-wrapper" class="hide">
						<input id="search-input" placeholder="Search for posts, authors, ..." name="s" spellcheck="false"/>
					</div>

					<main id="main" class="d-all cf" role="main" itemscope itemprop="mainContentOfPage" itemtype="http://schema.org/Blog">

						<div class="algoliasearchcontainer hide"></div>
						<div class="post-content">
							
								
              
              <article id="post-4736" class="cf post-4736 post type-post status-publish format-standard has-post-thumbnail hentry category-technology tag-relevance tag-search-engine" role="article" itemscope itemprop="blogPost" itemtype="http://schema.org/BlogPosting">

                <header class="article-header entry-header">

                  <h1 class="entry-title single-title" itemprop="headline" rel="bookmark">How Algolia tackled the relevance problem of search engines</h1>

                  <p class="byline entry-meta vcard">
                    <img class="author-avatar" src="https://secure.gravatar.com/avatar/dfd620dc267d3f8182cafd9837593294?s=96&d=mm&r=g" onerror="this.onerror=null;this.src='https://blog.algolia.com/wp-content/themes/algolia/library/images/avatar-algolia.png'" />
                    <span class="entry-author author" itemprop="author" itemscope itemptype="http://schema.org/Person">Nicolas Baissas</span> |
                    <time class="updated entry-time" datetime="2016-03-10" itemprop="datePublished">March 10, 2016</time> |
                    <span class="entry-categories"><a href="https://blog.algolia.com/category/technology/" rel="category tag">Technology</a></span>
                  </p>

                                      <a href="https://blog.algolia.com/how-algolia-tackled-the-relevance-problem-of-search-engines/" title="How Algolia tackled the relevance problem of search engines">
                    <img width="720" height="400" src="https://blog.algolia.com/wp-content/uploads/2016/03/algorythm.png" class="attachment-algolia-post-720 size-algolia-post-720 wp-post-image" alt="" srcset="https://blog.algolia.com/wp-content/uploads/2016/03/algorythm.png 720w, https://blog.algolia.com/wp-content/uploads/2016/03/algorythm-320x178.png 320w, https://blog.algolia.com/wp-content/uploads/2016/03/algorythm-340x189.png 340w" sizes="(max-width: 720px) 100vw, 720px" />                    </a>
                  
                </header> 
                <section class="entry-content cf" itemprop="articleBody">
                  <p class="lead">When we started <a href="https://www.algolia.com/" data-href="https://www.algolia.com/">Algolia</a>, we wanted to build an offline search SDK for mobile applications. Unlike other search engines on the market, we couldn’t rely on pre-existing search engine software such as Lucene because they weren’t available on mobile.</p>
<p>We had to build everything from the ground up within the limitations imposed by smartphones such as low memory and low processing power. Ultimately, we spent a considerable amount of time <strong>reinventing the search engine from scratch.</strong></p>
<p>When we eventually decided to pivot to a SaaS solution, we had built a completely new ranking algorithm. And in a typical “constraints foster creativity” situation, we had made two huge improvements: <strong>Speed</strong> and <strong>Relevance</strong>.</p>
<p>Algolia is known for its blazing-fast speed. It’s usually the first thing people notice when they start using it and also what makes it so exhilarating to use. But what I consider to be the most impressive and important achievement of Algolia is not actually speed but <strong>Relevance</strong>.</p>
<p style="padding-left: 30px;"><strong><em>Algolia reinvented how search engines define relevance.</em></strong></p>
<p>Before diving into the specifics behind Algolia’s ranking formula, let’s briefly go over how other search engines work.</p>
<h4>A little history of search engines</h4>
<p>In the late 90s, the Text Retrieval Conference organized a series of annual workshops financed in part by the US Department of Defense. The goal of these workshops was to determine the best ranking algorithm for searching a dataset consisting of long unstructured documents. The conference resulted in several enhancements to search engine ranking algorithms, the most defining being improvements to TF-IDF, what was then the main component of the most powerful ranking formulas.</p>
<p>TF-IDF is a statistical weighting scheme based on two elements: <strong>TF</strong> or <em>Term Frequency</em> (the number of occurrences of a word in a document, which is calculated on a per document basis) and <strong>IDF</strong> or <em>Inverse Document Frequency</em> (the importance of a query word within the whole corpus of documents).</p>
<p>Basically, if a query word is repeated multiple times within a document, that document will rank higher in the results than a document that only contains the query word once. IDF comes into play to reduce the importance of words that occur a lot in the corpus such as “the”, “of”, “a”, etc. The more times a query word recurs within the whole corpus, the lower a document containing that query word will be ranked. The length of the document is also taken into account; a short document with query word matches will rank higher than a long document with the same match.</p>
<p>TF-IDF (along with similar algorithms like BM25) became a central tool to score/rank documents given a user query, and it was used to search any type of data. Unfortunately, it was not actually designed for that! TD-IDF was built as an answer to TREC’s workshops and was designed specifically to work within long unstructured documents such as PDFs or enterprise documents.</p>
<p>The issue with this kind of statistical approach is that it surprisingly only makes sense for a very small number of use-cases, like enterprise document search, where:</p>
<ul>
<li>You don’t really know what type of data you’re searching into</li>
<li>The content is drastically different from one document to another</li>
<li>The documents don’t have any popularity metrics, and you need to rank them solely based on their “textual relevance”</li>
</ul>
<h4>What Algolia was built for</h4>
<p>Algolia wasn’t built to search long unstructured documents. It was built to power the search of websites and mobile applications. And in 99% of cases, this data is very different.</p>
<ul>
<li>It has a defined schema with meaningful attributes that you know beforehand (title, name, list of tags, description…)</li>
<li>You know the underlying content, what matters and what doesn’t (e.g. is the title more important than the description?)</li>
<li>There are often one or more popularity metrics associated with each object (number of sales/likes/views)</li>
<li>As the owner, you sometimes have a strategy that impacts the ranking (give a bonus to featured objects)</li>
</ul>
<h4>Let’s look at an example</h4>
<p>Say that you’re on IMDB searching for an actor, and you type “Brad”. You don’t care about the Term Frequency (how many times the document contains the word Brad), or the Inverse Document Frequency (how many times the word Brad is present in the list of all actors).</p>
<p>Fortunately, there are other signals that matter:</p>
<ul>
<li>Is the word Brad in the “name” attribute or in the description?</li>
<li>Is it the first word or the last word in this attribute?</li>
<li>Is it spelled exactly B-r-a-d? Does it contain a typo? A suffix?</li>
<li>How many followers/likes/views does Brad have?</li>
</ul>
<p>As you can guess, these questions give us a much better chance at finding Brad Pitt than a statistical approach like TF-IDF.</p>
<p>This is the first pillar of Algolia’s revolutionary improvements—the rules taken into account in the Ranking algorithm.</p>
<h4>The rules in Algolia’s ranking formula</h4>
<p>Algolia doesn’t rely on any variation of TF-IDF. Instead, it uses six default rules to evaluate the textual relevance of an object for a specific query:</p>
<ol>
<li>1. <strong>Typo</strong>: Will rank higher a word that doesn’t contain a typing mistake.</li>
<li>2. <strong>Words</strong>: Will rank higher an object matching more of the words typed by the user if the query contains more than one word.</li>
<li>3. <strong>Proximity</strong>: Will rank higher words close to each other (George Clooney is better than George word Clooney).</li>
<li>4. <strong>Attribute</strong>: Will rank higher a match in a more important attribute (Title, Description).</li>
<li>5. <strong>Words position</strong>: Will rank higher words that are at the beginning of an attribute.</li>
<li>6. <strong>Exact</strong>: Will rank higher words that match exactly without any suffix (Algolia natively handles prefix search).</li>
</ol>
<p>Most search engines have somewhat similar implementations of the <em>Words</em> and <em>Attribute</em> rules (some also have an implementation of <em>Proximity</em>). The rest of these rules are unique to Algolia. You can of course disable or customize the rules to fit your specific use-case, and you can also use non-textual criteria such as geo-location.</p>
<p>These rules are a great improvement over what existed before, but the biggest and most important change Algolia brought to the table is something else — <strong>how these rules are used to rank the objects.</strong></p>
<h4>How is the ranking done?</h4>
<p>The biggest issue with the relevance of most search engines is not TF-IDF (which can actually be disabled in most search engines using it). It’s the way the ranking criteria are used. <strong>Other search engines compute a big floating-point score that mixes everything.</strong> They have a very complex mathematical formula with a lot of coefficients/boosts that merges every rule into one score for each document. Then, they use this unique score to rank the search results.</p>
<p>The first problem with this approach is that it mixes apples and oranges. For example, if your ranking formula takes into account TF-IDF and the number of likes of the documents:</p>
<ul>
<li>What happens if a document has a very high number of likes? It will override all the other criteria like textual relevance, and this document will always show up in the results, even when the textual relevance score is very bad.</li>
<li>Similarly, if an object is the most relevant to the query but doesn’t have any likes, it won’t show up in the results.</li>
<li>The second issue with this approach is its complexity. Nobody is able to understand what’s really happening. Even the most skilled search experts need to spend a lot of time crafting the best mathematical formula. Via a trial-and-error process, they’ll find a formula that works well for a list of the 100 most popular queries, but the formula cannot be optimized for the whole catalogue. And as soon as the catalogue (or any metrics used in the formula) changes, they need to go back to the drawing board.</li>
</ul>
<p>This exception-driven approach is not maintainable.</p>
<p>Algolia’s ranking formula is designed to fix this. And it does so with a different ranking approach via the Tie-Breaking algorithm.</p>
<h4><strong>The tie-breaking algorithm</strong></h4>
<p>Instead of calculating one big score and then sorting the results once, a tie-breaking algorithm calculates N scores and applies<strong> N successive sorting</strong>. Here’s how it works:</p>
<ul>
<li>All the matching records are sorted according to the first criterion.</li>
<li>If any records are tied, those records are then sorted according the second criterion.</li>
<li>If there are still records that are tied, those are then sorted according to the third criterion.</li>
<li>And so on, until each record in the search results has a distinct position.</li>
</ul>
<p>The order of the criteria determines their importance. It’s like in a children’s game—if you sort by color and then by shape, you don’t get the same results as when you sort by shape then color.</p>
<p>Configuring the relevance of Algolia for a specific use-case is as simple as figuring out the set of rules that need to be applied and ordering them by importance.</p>
<p>Oh, and everything is customizable—from the order of the attributes to which attributes are used. So there’s virtually no ranking strategy that you can’t build with this ranking formula.</p>
<p>Let’s consider an example with the following dataset:</p>
<pre class="graf--pre">[
 {
  "name": "Jon Black",
  "featured": true,
  "number_of_likes": 4
 },
 {
  "name": "John Jackson",
  "featured": false,
  "number_of_likes": 17
 },
 {
  "name": "John Paul",
  "featured": false,
  "number_of_likes": 3
 },
 {
  "name": "Jon White",
  "featured": false,
  "number_of_likes": 9
 },
 {
  "name": "John Thompson",
  "featured": true,
  "number_of_likes": 8
 }
]</pre>
<p class="graf--p">And this index configuration:</p>
<a href="https://blog.algolia.com/wp-content/uploads/2016/03/Index-configuration.png" rel="attachment wp-att-4829"><img class="aligncenter wp-image-4829 size-full" src="https://blog.algolia.com/wp-content/uploads/2016/03/Index-configuration.png" alt="Index Our ranking formula on Algolia's dashboard" width="1578" height="738" srcset="https://blog.algolia.com/wp-content/uploads/2016/03/Index-configuration.png 1578w, https://blog.algolia.com/wp-content/uploads/2016/03/Index-configuration-320x150.png 320w, https://blog.algolia.com/wp-content/uploads/2016/03/Index-configuration-768x359.png 768w, https://blog.algolia.com/wp-content/uploads/2016/03/Index-configuration-720x337.png 720w" sizes="(max-width: 1578px) 100vw, 1578px" /></a>
<p class="graf--p">To simplify our example, let’s ignore some of the rules and focus only on <em class="markup--em markup--p-em">Typo</em>, <em class="markup--em markup--p-em">Featured</em> and <em class="markup--em markup--p-em">Number of Likes</em>. For the query “<em class="markup--em markup--p-em">John,</em>” we’ll get the following results:</p>
<ol class="postList">
<li class="graf--li">1. John Thompson (0 typos; featured; 8 likes)</li>
<li class="graf--li">2. John Jackson (0 typos; not-featured; 17 likes)</li>
<li class="graf--li">3. John Paul (0 typos; not-featured; 3 likes)</li>
<li class="graf--li">4. Jon Black (1 typo; featured; 4 likes)</li>
<li class="graf--li">5. Jon White (1 typo; not-featured; 9 likes)</li>
</ol>
<p class="graf--p">In this example, we:</p>
<ul class="postList">
<li class="graf--li">Decided that Typo was the most important rule. If an object has a typo, it should be ranked lower, no matter what the other rules are.</li>
<li class="graf--li">Gave a bonus to records marked “featured”.</li>
<li class="graf--li">Decided to position our main popularity metric, <em class="markup--em markup--li-em">Number of likes,</em> at the bottom of the formula so it doesn’t override the textual relevance criteria.</li>
</ul>
<p class="graf--p">A few things to note:</p>
<ul class="postList">
<li class="graf--li">We didn’t need to use coefficients or boosts of any kind. Nor did we need to craft some complex mathematical formula. But we still managed to take into account <strong class="markup--strong markup--li-strong">business metrics</strong> and merge them with our <strong class="markup--strong markup--li-strong">textual relevance</strong>.</li>
<li class="graf--li">This formula works for every query. It is not designed to work for the top 100 most popular searches, <strong>it is designed to work</strong> <strong class="markup--strong markup--li-strong">for the whole catalogue</strong>.</li>
<li class="graf--li">What happens if 50% of the catalogue changes tomorrow? Nothing. We don’t need to change the formula as long as the structure of the data remains the same.</li>
<li class="graf--li">It is very simple to understand why one result is ranked higher than another. And if you can understand the results, fine-tuning the formula will be much easier.</li>
</ul>
<h4 class="graf--h4"><strong class="markup--strong markup--h4-strong">Where do we go from here?</strong></h4>
<p class="graf--p">As of writing this, Algolia is live on thousands of websites and mobile applications, and this ranking strategy has consistently proven successful. We have spent a long time fine-tuning every detail and are pleased with the level of performance. We continue to make relevance a core focus, <span class="s1">in particular to introduce new criteria to better enable the personalization of results per user.</span></p>
<p class="graf--p">We’re always happy to help you figure out how you could use this algorithm to achieve the ranking strategy that best fits your specific use-case. And we’re eager to know what you think, so feel free to leave us a comment.</p>
<!--www.crestaproject.com Social Button in Content Start--><div id="crestashareiconincontent" class="cresta-share-icon first_style"><div class="sbutton  facebook-cresta-share" id="facebook-cresta-c"><a rel="nofollow" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F&amp;t=How+Algolia+tackled+the+relevance+problem+of+search+engines" title="Share to Facebook" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-facebook"></i></a></div><div class="sbutton  twitter-cresta-share" id="twitter-cresta-c"><a rel="nofollow" href="https://twitter.com/share?text=How+Algolia+tackled+the+relevance+problem+of+search+engines&amp;url=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F&amp;via=algolia" title="Share to Twitter" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-twitter"></i></a></div><div class="sbutton  linkedin-cresta-share" id="linkedin-cresta-c"><a rel="nofollow" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F&amp;title=How+Algolia+tackled+the+relevance+problem+of+search+engines&amp;source=https://blog.algolia.com/" title="Share to LinkedIn" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-linkedin"></i></a></div><div style="clear: both;"></div></div><div style="clear: both;"></div><!--www.crestaproject.com Social Button in Content End-->                </section> 
                <!-- <footer class="article-footer">


                </footer>-->
                <div class="tags-container"><ul class="tags"><li><a href="https://blog.algolia.com/tag/relevance/" rel="tag">relevance</a></li><li><a href="https://blog.algolia.com/tag/search-engine/" rel="tag">Search engine</a></li></ul></div>
                
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-471">
        <div id="dsq-comment-header-471" class="dsq-comment-header">
            <cite id="dsq-cite-471">
                <a id="dsq-author-user-471" href="http://www.algolia.com/" target="_blank" rel="nofollow">Julien Lemoine</a>
            </cite>
        </div>
        <div id="dsq-comment-body-471" class="dsq-comment-body">
            <div id="dsq-comment-message-471" class="dsq-comment-message"><p>The goal is not just to sort on different fields but to have a global approach of ranking that takes into account both textual relevance and business data without using one big formula that is difficult to control. This is exactly what the Tie-Breaking algorithm is doing. To our knowledge, no other search engine allows to do that today. Do you know any way to do that with another engine?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-499">
        <div id="dsq-comment-header-499" class="dsq-comment-header">
            <cite id="dsq-cite-499">
                <a id="dsq-author-user-499" href="http://o19s.com/" target="_blank" rel="nofollow">Doug Turnbull</a>
            </cite>
        </div>
        <div id="dsq-comment-body-499" class="dsq-comment-body">
            <div id="dsq-comment-message-499" class="dsq-comment-message"><p>Julien I don&#8217;t disagree that your tie breaking strategy can be effective. But its only one strategy. And its a strategy, with work, you could implement in Lucene-based search. A developer can&#8217;t incorporate all the functionality of Lucene into Algolia right now.</p>
<p>Then again, if you know you want tie breaking scoring focussed on short snippets and a few other ranking factors. And you don&#8217;t want to deal with grouchy Lucene developers like me :-p then Algolia seems like a good solution.</p>
<p>I disagree with the notion that there&#8217;s a single solution to relevance. I feel this article markets itself as a silver bullet. I think that leads people down a dangerous path of not considering how their relevance problem differs from a general relevance problem.</p>
<p>Best,<br />
-Doug</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-500">
        <div id="dsq-comment-header-500" class="dsq-comment-header">
            <cite id="dsq-cite-500">
                <a id="dsq-author-user-500" href="http://www.algolia.com/" target="_blank" rel="nofollow">Julien Lemoine</a>
            </cite>
        </div>
        <div id="dsq-comment-body-500" class="dsq-comment-body">
            <div id="dsq-comment-message-500" class="dsq-comment-message"><p>Thanks for your feedback Doug, having different point of views is always nice! And don&#8217;t worry, we don&#8217;t claim to have found a solution to all the issues on all the use-cases. This approach is just the one we&#8217;ve found to work best when we encountered the problems that you mentioned.</p>
<p>And transparency is part of our DNA, so we thought we&#8217;d share it! Similarly, we have an ongoing &#8220;Inside the engine&#8221; series explaining more on the internals of what we built, have you seen it?</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-493">
        <div id="dsq-comment-header-493" class="dsq-comment-header">
            <cite id="dsq-cite-493">
                <span id="dsq-author-user-493">Charlie Hull</span>
            </cite>
        </div>
        <div id="dsq-comment-body-493" class="dsq-comment-body">
            <div id="dsq-comment-message-493" class="dsq-comment-message"><p>It&#8217;s interesting to hear how you&#8217;ve derived what is indeed a very simple ranking method, but it is foolish to dismiss TF/IDF and BM25 &#8211; they&#8217;ve worked very successfully for many engines and continue to do so. Most engines &#8211; certainly Solr and Elasticsearch &#8211; also allow extremely flexible boosting (which could be used to add the effect of a popularity score), allow fuzzy search or &#8216;did you mean&#8217; spelling suggestions, proximity searches, minimum-should-match etc., covering all six features you&#8217;ve used for your ranking formula. I&#8217;m afraid &#8220;Nobody is able to understand what’s really happening&#8221; is incorrect as well &#8211; the algorithms are very well understood and documented. </p>
<p>Search tuning *is* hard, and needs constant attention (we&#8217;ve written a series of blogs on the subject <a href="http://www.flax.co.uk/blog/2016/03/18/get-started-improving-site-search-relevancy/" rel="nofollow">http://www.flax.co.uk/blog/2016/03/18/get-started-improving-site-search-relevancy/</a>) but this isn&#8217;t because there&#8217;s anything wrong with the underlying algorithms.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-496">
        <div id="dsq-comment-header-496" class="dsq-comment-header">
            <cite id="dsq-cite-496">
                <span id="dsq-author-user-496">Nicolas Baissas</span>
            </cite>
        </div>
        <div id="dsq-comment-body-496" class="dsq-comment-body">
            <div id="dsq-comment-message-496" class="dsq-comment-message"><p>Interesting take, thanks! Yes, these approaches have been and are still successful for many engines, no discussion here. Our point here is: as an industry, we can probably do better.</p>
<p>You mention that “Search tuning *is* hard, and needs constant attention”. I agree. But we think there are better alternatives than TF-IDF and the likes to make it less hard, more reliable, while improving the relevance.</p>
<p>Good point though that there are ways to mimic most of our ranking rules with other engines. Algolia handles all those features natively, and combines them with a good performance. For example, combining the typo-tolerance and the proximity matching in ES (while ranking by typos, not only matching results with typos) becomes almost impossible &#8211; and very slow &#8211; when the dataset is big enough.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-494">
        <div id="dsq-comment-header-494" class="dsq-comment-header">
            <cite id="dsq-cite-494">
                <span id="dsq-author-user-494">John Berryman</span>
            </cite>
        </div>
        <div id="dsq-comment-body-494" class="dsq-comment-body">
            <div id="dsq-comment-message-494" class="dsq-comment-message"><p>It seems reckless to effectively toss aside an entire branch of academic research that has now spanned decades. By using your own heuristics in place of the well tested TF*IDF or BM25 algorithms this it what you&#8217;re doing.</p>
<p>For other comment readers, here is a very approachable academic text on relevance <a href="http://nlp.stanford.edu/IR-book/" rel="nofollow">http://nlp.stanford.edu/IR-book/</a>, or if you want a more engineer-focused text see what you think about this Manning book: <a href="http://www.amazon.com/Relevant-Search-applications-Solr-Elasticsearch/dp/161729277X?ie=UTF8&#038;redirect=true&#038;ref_=pe_2313370_193871620_em_ti" rel="nofollow">http://www.amazon.com/Relevant-Search-applications-Solr-Elasticsearch/dp/161729277X?ie=UTF8&#038;redirect=true&#038;ref_=pe_2313370_193871620_em_ti</a> (I&#8217;m partial to it.)</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-495">
        <div id="dsq-comment-header-495" class="dsq-comment-header">
            <cite id="dsq-cite-495">
                <span id="dsq-author-user-495">Nicolas Baissas</span>
            </cite>
        </div>
        <div id="dsq-comment-body-495" class="dsq-comment-body">
            <div id="dsq-comment-message-495" class="dsq-comment-message"><p>Thanks for your input. Actually we agree, TF-IDF and BM25 are impressive achievements of academic research. We have used them, enjoyed it, and recognize that they’re the best solution for what they’re trying to solve.</p>
<p>The thing is: they’re built to solve searching in long unstructured chunks of text. We’re built to search into structured documents. And today, most apps/websites have structured data, with a rich structure and lots of meta data like popularity metrics.</p>
<p>And algorithms like TF-IDF are not designed for that: the number of times “Rihanna” is written on the description of a profile on Spotify doesn’t indicate how good it is for this query, same thing for “Brad” on IMDB, or “Milk” in an ecommerce store.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-3" id="dsq-comment-497">
        <div id="dsq-comment-header-497" class="dsq-comment-header">
            <cite id="dsq-cite-497">
                <a id="dsq-author-user-497" href="http://o19s.com/" target="_blank" rel="nofollow">Doug Turnbull</a>
            </cite>
        </div>
        <div id="dsq-comment-body-497" class="dsq-comment-body">
            <div id="dsq-comment-message-497" class="dsq-comment-message"><p>Solr and Elasticsearch aren&#8217;t opinionated about term frequency. You can disable term frequency easily. And for short snippet search, it makes sense to do so, as I write about in this article no title search</p>
<p><a href="http://opensourceconnections.com/blog/2014/12/08/title-search-when-relevancy-is-only-skin-deep/" rel="nofollow">http://opensourceconnections.com/blog/2014/12/08/title-search-when-relevancy-is-only-skin-deep/</a></p>
<p>The difference is Algolia works out of the box for short snippets. Algolia can be thought of as a fairly opinionated relevance solution. Solr/ES are rather unopinionated relevance frameworks. To the point where you can use any strategy under the sun, from controlled vocabularies, NLP, boosts on factors like recency and popularity, personalization components, and even optimizations like algolias, to solve relevance problems.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-3" id="dsq-comment-501">
        <div id="dsq-comment-header-501" class="dsq-comment-header">
            <cite id="dsq-cite-501">
                <span id="dsq-author-user-501">John Berryman</span>
            </cite>
        </div>
        <div id="dsq-comment-body-501" class="dsq-comment-body">
            <div id="dsq-comment-message-501" class="dsq-comment-message"><p>Ah I see the concern you&#8217;re addressing with Algolia. So Algolia is tuned to be good for short field search (titles, names, etc.) whereas a more general search engine would be better for full text search, for instance searching product descriptions. Is that about right?</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-498">
        <div id="dsq-comment-header-498" class="dsq-comment-header">
            <cite id="dsq-cite-498">
                <a id="dsq-author-user-498" href="http://o19s.com/" target="_blank" rel="nofollow">Doug Turnbull</a>
            </cite>
        </div>
        <div id="dsq-comment-body-498" class="dsq-comment-body">
            <div id="dsq-comment-message-498" class="dsq-comment-message"><p>This is a very misleading portrayal of Lucene-based search. Just because TF*IDF &amp; BM25 are one way of ranking results, doesn&#8217;t make it the only relevance tool in the Lucene toolbox. </p>
<p>I mean just look at the Elasticsearch Query DSL:<br />
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html</a></p>
<p>And the list of similarities other than TFIDF<br />
<a href="https://lucene.apache.org/core/4_7_0/core/org/apache/lucene/search/similarities/package-summary.html" rel="nofollow">https://lucene.apache.org/core/4_7_0/core/org/apache/lucene/search/similarities/package-summary.html</a></p>
<p>And text analyzers&#8230; for dozens of languages<br />
<a href="https://lucene.apache.org/core/4_0_0/analyzers-common/overview-summary.html" rel="nofollow">https://lucene.apache.org/core/4_0_0/analyzers-common/overview-summary.html</a></p>
<p>And of course Lucene can deal with recency, popularity, etc. Both let you directly incorporate them into the ranking function anyway you want:<br />
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html#function-field-value-factor" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html#function-field-value-factor</a></p>
<p>And this is the tip of the iceberg.</p>
<p>Solr and Elasticsearch are *frameworks* for incorporating just about any possible way to rank results. Short snippets is just one use case. But in my work, its only one factor amongst many that folks need in a search solution. Personalization, taxonomies, ontologies, any feature that might describe a user or a piece of content need to be brought to bare. And having the power to express ranking very specifically and carefully is the relevance feature of Solr and Elasticsearch: not TF IDF.</p>
<p>But I say that and don&#8217;t mean to discount Algolia. You guys have built something interesting, but I wouldn&#8217;t say it &#8220;solves relevance.&#8221; There&#8217;s sadly no silver bullet in relevance ranking. It takes work, dedication, and soft skills like understanding your users and business.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-520">
        <div id="dsq-comment-header-520" class="dsq-comment-header">
            <cite id="dsq-cite-520">
                <span id="dsq-author-user-520">Eduard Dudar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-520" class="dsq-comment-body">
            <div id="dsq-comment-message-520" class="dsq-comment-message"><p>&gt; You&#8217;ve described problems with direct additive boosting</p>
<p>I see this problem with multiplicative boosting as well but with recency in my case. I&#8217;m not talking about extreme cases when document is almost completely irrelevant but when document is not new enough and falls out out of decay param but highly relevant it&#8217;s pushed down by less relevant but newer documents. My audience is very picky and they scream immediately when they see such a case.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

                                  <div class='rp4wp-related-posts'>
<h3>What to read next</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='https://blog.algolia.com/inside-the-algolia-engine-part-1-indexing-vs-search/'><img width="150" height="150" src="https://blog.algolia.com/wp-content/uploads/2016/03/Inside-the-engine-part-1-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Inside the Algolia engine part 1" srcset="https://blog.algolia.com/wp-content/uploads/2016/03/Inside-the-engine-part-1-150x150.png 150w, https://blog.algolia.com/wp-content/uploads/2016/03/Inside-the-engine-part-1-125x125.png 125w" sizes="(max-width: 150px) 100vw, 150px" /></a></div>
<div class='rp4wp-related-post-content'>
<a href='https://blog.algolia.com/inside-the-algolia-engine-part-1-indexing-vs-search/'>Inside the Algolia Engine Part 1 — Indexing vs. Search</a></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='https://blog.algolia.com/inside-the-algolia-engine-part-2-the-indexing-challenge-of-instant-search/'><img width="150" height="150" src="https://blog.algolia.com/wp-content/uploads/2016/05/indexing-part2-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" srcset="https://blog.algolia.com/wp-content/uploads/2016/05/indexing-part2-150x150.png 150w, https://blog.algolia.com/wp-content/uploads/2016/05/indexing-part2-125x125.png 125w" sizes="(max-width: 150px) 100vw, 150px" /></a></div>
<div class='rp4wp-related-post-content'>
<a href='https://blog.algolia.com/inside-the-algolia-engine-part-2-the-indexing-challenge-of-instant-search/'>Inside the Algolia Engine Part 2 — The Indexing Challenge of Instant Search</a></div>
</li>
</ul>
</div>
                
              </article> 
							
													</div>

						<section id="subscribe-newsletter" class="cf">
    <div id="mc4wp-form-1" class="form mc4wp-form">
        <form action="https://go.pardot.com/l/139121/2016-06-09/f3kzm" method="post" role="form" lpformnum="1">
            <p>
                <input type="email" id="mc4wp_email" name="email" placeholder="Your email address" required="">
            </p>
            <p>
                <input type="submit" value="Sign up">
            </p>
        </form>
    </div>
</section>

					</main>

					
				</div>

			</div>

			<footer class="footer" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter">

				<div id="inner-footer" class="wrap cf">

          <a class="footer-logo" href="https://www.algolia.com">
            <img src="https://www.algolia.com/static_assets/images/flat2/algolia/algolia-logo-45a5b66b.svg" width="150" alt="algolia"/>
          </a>

          <p class="footer-tagline">We make instant and relevant search.<br>
          Easy for developers, delightful for the users.
          <p>

          <ul class="social-links">
            <li><a class="social-twitter" href="https://twitter.com/algolia"><i class="icon-twitter"></i></a></li>
            <li><a class="social-googleplus" href="https://plus.google.com/+Algolia"><i class="icon-google-plus"></i></a></li>
            <li><a class="social-facebook" href="https://www.facebook.com/algolia"><i class="icon-facebook2"></i></a></li>
            <li><a class="social-linkedin" href="https://www.linkedin.com/company/algolia"><i class="icon-linkedin2"></i></a></li>
            <li><a class="social-github" href="https://github.com/Algolia"><i class="icon-github2"></i></a></li>
          </ul>

					<p class="source-org copyright">&copy;Algolia - <a href="https://www.algolia.com/policies/privacy">Privacy Policy</a></p>

				</div>

			</footer>

		</div>

				<script type="text/template" id="autocomplete-template">
    <div class="result">
        <div class="title">
            {{#featureImage}}
            <img style="width: 30px" src="{{{ featureImage.sizes.thumbnail.file }}}" />
            {{/featureImage}}
            {{{ _highlightResult.title.value }}}
        </div>
    </div>
</script>

<script type="text/template" id="instant-content-template">
    <div class="search-sorting">
        <span class="label">Sort by</span>
        <select id="index_to_use">
            <option {{#sortSelected}}{{relevance_index_name}}{{/sortSelected}} value="{{relevance_index_name}}">Relevance</option>
            {{#sorting_indices}}
            <option {{#sortSelected}}{{index_name}}{{/sortSelected}} value="{{index_name}}">{{label}}</option>
            {{/sorting_indices}}
        </select>
    </div>
    <div class="cf spacer20"></div>
    <div class="hits-wrapper">
      {{#hits}}
          {{^query}}
              <div class="d-1of3 t-1of2" algolia-object-id="{{ objectID }}">
                  <article class="grid-entry grid-entry--columns">
                      <header class="article-header">
                          <a href="{{permalink}}"><img class="entry-illus" src="{{featureImage.sizes.medium.file}}"/></a>
                          <h1 class="h3 entry-title"><a href="{{permalink}}">{{{ _highlightResult.title.value }}}</a></h1>
                      </header>
                  </article>
              </div>
          {{/query}}

          {{#query}}
            <article class="grid-entry grid-entry--detailled" algolia-object-id="{{ objectID }}">
                <div class="d-1of3 t-1of3">
                    <a href="{{permalink}}"><img class="entry-illus" src="{{featureImage.sizes.medium.file}}"/></a>
                </div>
                <div class="d-2of3 t-2of3">
                    <h1 class="h3 entry-title"><a href="{{permalink}}">{{{ _highlightResult.title.value }}}</a></h1>

                    <span class="entry-author" data-tax="author" data-name="{{ author }}" >
                        <img class="author-avatar" src="{{ avatar_url }}" onerror="this.onerror=null;this.style.border='1px solid rgb(0, 164, 255)';this.src='/wp-content/themes/algolia/library/images/avatar-algolia.png'"/>
                        {{{ _highlightResult.author.value }}}
                    </span>
                    <span class="entry-date">{{#getDate}}{{date}}{{/getDate}}</span>
                    <p class="entry-desc">...{{{ _snippetResult.content.value }}}...</p>

                    <ul class="tags">
                    {{#_highlightResult.post_tag}}
                        <li class="match-{{matchLevel}}">{{{value}}}</li>
                    {{/_highlightResult.post_tag}}
                    </ul>
                </div>
                <div class="cf"></div>
            </article>
          {{/query}}

      {{/hits}}
    </div>
    {{^hits.length}}
    <div class="no-result">
      <div>No posts nor authors matched your query <strong>{{ query }}</strong>.</div>
      <div><a href="#" class="clear-button">clear search</a></div>
    </div>
    {{/hits.length}}
</script>


<script type="text/template" id="instant-facets-template">
    {{#facets}}
    {{#count}}
    <div class="search-filters {{tax}}">
        {{#facet_categorie_name}}
            <span class="label">
                {{ facet_categorie_name }}
            </span>
        {{/facet_categorie_name}}
        <ul>
            {{#sub_facets}}

                {{#type.conjunctive}}
                <li class="{{#checked}} checked {{/checked}} sub_facet conjunctive related-tag {{#hidden}} hide {{/hidden}}">
                    <input style="display: none;" data-tax="{{tax}}" {{#checked}} checked {{/checked}} data-name="{{name}}" class="facet_value" type="checkbox" />
                    {{name}}
                </li>
                {{/type.conjunctive}}

                {{#type.disjunctive}}
                <li class="{{#checked}} checked {{/checked}} sub_facet disjunctive">
                    <input style="display: none;" data-tax="{{tax}}" {{#checked}} checked {{/checked}} data-name="{{name}}" class="facet_value" type="checkbox" />
                    {{name}} {{#count}}({{count}}){{/count}}
                </li>
                {{/type.disjunctive}}

                {{#type.menu}}
                <li data-tax="{{tax}}" data-name="{{nameattr}}" data-type="menu" class="{{#checked}}checked {{/checked}}sub_facet disjunctive menu {{#category}}category{{/category}}">
                    <input style="display: none;" data-tax="{{tax}}" {{#checked}}checked{{/checked}} data-name="{{nameattr}}" class="facet_value" type="checkbox" />
                    {{name}} {{#print_count}}{{#count}}<span class="facet-count">{{count}}</span>{{/count}}{{/print_count}}
                </li>
                {{/type.menu}}

            {{/sub_facets}}
        </ul>
    </div>
    {{/count}}
    {{/facets}}
</script>



<script type="text/template" id="instant-pagination-template">
    <div class="pagination-wrapper cf">
        <ul class="pagination">
            <li {{^prev_page}}class="disabled"{{/prev_page}}>
                <a href="#" data-page="{{prev_page}}">
                    Previous
                </a>
            </li>

            {{#pages}}
            <li class="{{#current}}active{{/current}}{{#disabled}}disabled{{/disabled}}">
                <a href="#" data-page="{{number}}">
                    {{ number }}
                </a>
            </li>
            {{/pages}}

            <li {{^next_page}}class="disabled"{{/next_page}}>
                <a href="#" data-page="{{next_page}}">
                    Next
                </a>
            </li>
        </ul>
    </div>
</script>
<!--www.crestaproject.com Social Button Floating Start--><div id="crestashareicon" class="cresta-share-icon  first_style "><div class="sbutton  facebook-cresta-share float" id="facebook-cresta"><a rel="nofollow" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F&amp;t=How+Algolia+tackled+the+relevance+problem+of+search+engines" title="Share to Facebook" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-facebook"></i></a></div><div class="sbutton  twitter-cresta-share float noCount" id="twitter-cresta"><a rel="nofollow" href="https://twitter.com/share?text=How+Algolia+tackled+the+relevance+problem+of+search+engines&amp;url=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F&amp;via=algolia" title="Share to Twitter" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-twitter"></i></a></div><div class="sbutton  linkedin-cresta-share float" id="linkedin-cresta"><a rel="nofollow" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fblog.algolia.com%2Fhow-algolia-tackled-the-relevance-problem-of-search-engines%2F&amp;title=How+Algolia+tackled+the+relevance+problem+of+search+engines&amp;source=https://blog.algolia.com/" title="Share to LinkedIn" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-linkedin"></i></a></div><div style="clear: both;"></div></div>

<!--www.crestaproject.com Social Button Floating End-->
<link rel='stylesheet' id='hljstheme-css'  href='https://blog.algolia.com/wp-content/plugins/wp-code-highlightjs/styles/monokai-sublime.css' type='text/css' media='all' />
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/cresta-social-share-counter/js/jquery.cresta-social-effect.js'></script>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/themes/algolia/library/js/scripts.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/wp-embed.min.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/wp-code-highlightjs/highlight.common.pack.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/wp-code-highlightjs/highlight.custom.pack.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.7.5","language":""},"disqusIdentifier":"4736 https:\/\/blog.algolia.com\/?p=4736","disqusShortname":"algoliablog","disqusTitle":"How Algolia tackled the relevance problem of search engines","disqusUrl":"https:\/\/blog.algolia.com\/how-algolia-tackled-the-relevance-problem-of-search-engines\/","options":{"manualSync":false},"postId":"4736"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/disqus-comment-system/media/js/disqus.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"algoliablog"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/disqus-comment-system/media/js/count.js'></script>
    <style>pre.hljs {padding: 5px;}
pre.hljs code {}
pre code.hljs { background: none; } </style>
    <script type="text/javascript">
    (function($, window) {
        var init_fn_flag = false;
        var init_fn = (function() {
            if (init_fn_flag)
                return;
            init_fn_flag = true;
             hljs.configure({"tabReplace":"    "});
            $('pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });
        });
        $(document).ready(init_fn);
        $(window).on("load", init_fn);
    })(jQuery, window);
    </script>
<script type='text/javascript' src='https://stats.wp.com/e-201721.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.7.1',blog:'116008343',post:'4736',tz:'-7',srv:'blog.algolia.com'} ]);
	_stq.push([ 'clickTrackerInit', '116008343', '4736' ]);
</script>

	</body>

</html> <!-- end of site. what a ride! -->

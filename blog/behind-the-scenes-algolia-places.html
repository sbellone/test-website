<!doctype html>

<!--[if lt IE 7]><html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js lt-ie9 lt-ie8"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--> <html lang="en-GB" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" class="no-js"><!--<![endif]-->

	<head>
		<meta charset="utf-8">

				<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>Behind the Scenes: Algolia Places - Milliseconds Matter</title>

				<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width, initial-scale=0.75, maximum-scale=0.75"/>

				<link rel="apple-touch-icon" href="https://blog.algolia.com/wp-content/themes/algolia/library/images/apple-touch-icon.png">
		<link rel="icon" href="https://blog.algolia.com/wp-content/themes/algolia/favicon.png">
		<!--[if IE]>
			<link rel="shortcut icon" href="https://blog.algolia.com/wp-content/themes/algolia/favicon.ico">
		<![endif]-->
				<meta name="msapplication-TileColor" content="#f01d4f">
		<meta name="msapplication-TileImage" content="https://blog.algolia.com/wp-content/themes/algolia/library/images/win8-tile-icon.png">
    <meta name="theme-color" content="#121212">

		<link rel="pingback" href="https://blog.algolia.com/xmlrpc.php">

        
<!-- This site is optimized with the Yoast SEO plugin v4.5 - https://yoast.com/wordpress/plugins/seo/ -->

<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Milliseconds Matter &raquo; Feed" href="https://blog.algolia.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Milliseconds Matter &raquo; Comments Feed" href="https://blog.algolia.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Milliseconds Matter &raquo; Behind the Scenes: Algolia Places Comments Feed" href="https://blog.algolia.com/behind-the-scenes-algolia-places/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/blog.algolia.com\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wp-quicklatex-format-css'  href='https://blog.algolia.com/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css' type='text/css' media='all' />
<link rel='stylesheet' id='jquery-ui-css'  href='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/jquery/jquery-ui.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='algolia_styles-css'  href='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/themes/algolia/styles.css' type='text/css' media='all' />
<link rel='stylesheet' id='cresta-social-crestafont-css'  href='https://blog.algolia.com/wp-content/plugins/cresta-social-share-counter/css/csscfont.css' type='text/css' media='all' />
<link rel='stylesheet' id='cresta-social-wp-style-css'  href='https://blog.algolia.com/wp-content/plugins/cresta-social-share-counter/css/cresta-wp-css.css' type='text/css' media='all' />
<link rel='stylesheet' id='cresta-social-googlefonts-css'  href='//fonts.googleapis.com/css?family=Noto+Sans:400,700' type='text/css' media='all' />
<link rel='stylesheet' id='googleFonts-css'  href='//fonts.googleapis.com/css?family=Raleway%3A400%2C600%2C700' type='text/css' media='all' />
<link rel='stylesheet' id='custom-algolia-scripts-css'  href='https://blog.algolia.com/wp-content/themes/algolia/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='bones-stylesheet-css'  href='https://blog.algolia.com/wp-content/themes/algolia/library/css/style.css' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='bones-ie-only-css'  href='https://blog.algolia.com/wp-content/themes/algolia/library/css/ie.css' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='https://blog.algolia.com/wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/jquery/jquery-ui.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/algolia/algoliasearch.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/hogan/hogan.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var settings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/lib/typeahead/typeahead.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var algoliaSettings = {"app_id":"latency","search_key":"6be0576ff61c053d5f9a3225e2a90f76","indices":[{"index_name":"wordpress_post","name":"Articles","order1":0,"order2":0}],"sorting_indices":[{"index_name":"wordpress_all_date_desc","label":""}],"index_name":"wordpress_","type_of_search":["instant"],"instant_jquery_selector":".algoliasearchcontainer","facets":[{"tax":"category","name":"","order":"19","type":"menu"}],"number_by_type":"3","number_by_page":"12","search_input_selector":"[name='s']","plugin_url":"https:\/\/blog.algolia.com\/wp-content\/plugins\/algoliasearch-wordpress-master\/","theme":{"dir":"algolia","name":"New Algolia","screenshot":"https:\/\/blog.algolia.com\/wp-content\/plugins\/algoliasearch-wordpress-master\/core\/..\/themes\/algolia\/screenshot.png","screenshot_autocomplete":"https:\/\/blog.algolia.com\/wp-content\/plugins\/algoliasearch-wordpress-master\/core\/..\/themes\/algolia\/screenshot.png","description":"","facet_types":{"menu":"Menu"}}};
var searchState = {"page":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/front/main.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var themesSettings = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/algoliasearch-wordpress-master/themes/algolia/theme.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/themes/algolia/library/js/libs/modernizr.custom.min.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js'></script>
<link rel='https://api.w.org/' href='https://blog.algolia.com/wp-json/' />
<link rel='shortlink' href='https://blog.algolia.com/?p=5418' />
<link rel="alternate" type="application/json+oembed" href="https://blog.algolia.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://blog.algolia.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F&#038;format=xml" />
<style type='text/css'>
			@media (max-width : 640px) {
				#crestashareicon {
					display:none !important;
				}
			}
		#crestashareicon {position:fixed; top:30%; right:20px; float:left;z-index:99;}

		#crestashareicon .sbutton {clear:both;display:none;}
		#crestashareicon .sbutton {float:right;}.cresta-share-icon.first_style .cresta-the-count {left: -11px;}#crestashareiconincontent {float: none; margin: 0 auto; display: table;}</style><script type="text/javascript">
(function(url){
	if(/(?:Chrome\/26\.0\.1410\.63 Safari\/537\.31|WordfenceTestMonBot)/.test(navigator.userAgent)){ return; }
	var addEvent = function(evt, handler) {
		if (window.addEventListener) {
			document.addEventListener(evt, handler, false);
		} else if (window.attachEvent) {
			document.attachEvent('on' + evt, handler);
		}
	};
	var removeEvent = function(evt, handler) {
		if (window.removeEventListener) {
			document.removeEventListener(evt, handler, false);
		} else if (window.detachEvent) {
			document.detachEvent('on' + evt, handler);
		}
	};
	var evts = 'contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop keydown keypress keyup mousedown mousemove mouseout mouseover mouseup mousewheel scroll'.split(' ');
	var logHuman = function() {
		var wfscr = document.createElement('script');
		wfscr.type = 'text/javascript';
		wfscr.async = true;
		wfscr.src = url + '&r=' + Math.random();
		(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(wfscr);
		for (var i = 0; i < evts.length; i++) {
			removeEvent(evts[i], logHuman);
		}
	};
	for (var i = 0; i < evts.length; i++) {
		addEvent(evts[i], logHuman);
	}
})('//blog.algolia.com/?wordfence_logHuman=1&hid=7D9E6100E2C86E5EBF77660AEAE24E81');
</script>		<style>
		.gist table {
			margin-bottom: 0 !important;
			table-layout: auto !important;
		}
		.gist .line-numbers
		{
			width: 4em !important;
		}
		.gist .line,
		.gist .line-number
		{
			font-size: 12px !important;
			height: 18px !important;
			line-height: 18px !important;
		}
		.gist .line
		{
			white-space: pre !important;
			width: auto !important;
			word-wrap: normal !important;
		}
		.gist .line span
		{
			word-wrap: normal !important;
		}
		</style>
		<style type='text/css'>img#wpstats{display:none}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>

<!-- START - Facebook Open Graph, Google+ and Twitter Card Tags 2.0.8 -->
 <!-- Facebook Open Graph -->
  <meta property="og:locale" content="en_GB"/>
  <meta property="og:site_name" content="Milliseconds Matter"/>
  <meta property="og:title" content="Behind the Scenes: Algolia Places"/>
  <meta property="og:url" content="https://blog.algolia.com/behind-the-scenes-algolia-places/"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="All of us have at some point or the other been stuck in the middle of nowhere, desperately trying to locate an address, with our “fat fingers” for company; or abandoned a purchase in our virtual shopping baskets because it was too much trouble to fill out our entire address. 

Algolia being Algoli"/>
  <meta property="og:image" content="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14.png"/>
  <meta property="article:published_time" content="2016-08-05T01:30:17+00:00"/>
  <meta property="article:modified_time" content="2016-08-08T00:32:42+00:00" />
  <meta property="og:updated_time" content="2016-08-08T00:32:42+00:00" />
  <meta property="article:section" content="News"/>
 <!-- Google+ / Schema.org -->
  <meta itemprop="name" content="Behind the Scenes: Algolia Places"/>
  <meta itemprop="description" content="All of us have at some point or the other been stuck in the middle of nowhere, desperately trying to locate an address, with our “fat fingers” for company; or abandoned a purchase in our virtual shopping baskets because it was too much trouble to fill out our entire address. 

Algolia being Algoli"/>
  <meta itemprop="image" content="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14.png"/>
 <!-- Twitter Cards -->
  <meta name="twitter:title" content="Behind the Scenes: Algolia Places"/>
  <meta name="twitter:url" content="https://blog.algolia.com/behind-the-scenes-algolia-places/"/>
  <meta name="twitter:description" content="All of us have at some point or the other been stuck in the middle of nowhere, desperately trying to locate an address, with our “fat fingers” for company; or abandoned a purchase in our virtual shopping baskets because it was too much trouble to fill out our entire address. 

Algolia being Algoli"/>
  <meta name="twitter:image" content="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14.png"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@algolia"/>
 <!-- SEO -->
 <!-- Misc. tags -->
<!-- END - Facebook Open Graph, Google+ and Twitter Card Tags 2.0.8 -->

    
        <link rel="stylesheet" href="https://blog.algolia.com/wp-content/themes/algolia/library/css/icons.css">

	</head>

	<body class="post-template-default single single-post postid-5418 single-format-standard custom-background" itemscope itemtype="http://schema.org/WebPage">

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N8JP8G"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N8JP8G');</script>
    <!-- End Google Tag Manager -->

		<div id="container">

			<header class="header" role="banner" itemscope itemtype="http://schema.org/WPHeader">

				<div id="inner-header" class="wrap cf">
          <ul id="links">
            <li><a href="https://www.algolia.com/jobs">Jobs</a></li>
            <li><a class="btn-primary" href="https://www.algolia.com/">Go to algolia.com</a></li>
          </ul>
          <a id="logo" href="/"><img src="https://www.algolia.com/static_assets/images/flat2/algolia/algolia-logo-45a5b66b.svg" width="130" alt="algolia"/></a>
										<p id="title" class="h1" itemscope itemtype="http://schema.org/Organization"><a href="https://blog.algolia.com" rel="nofollow">Milliseconds Matter</a></p>

										<p id="tagline">The Official Algolia Blog</p>


					<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
						
					</nav>

				</div>

			</header>
			<div id="content">
				<div id="inner-content" class="wrap cf">

					<a class="single-back" href="#" onclick="goBack();">&lt;&nbsp;Back</a>

					<div id="search-input-wrapper" class="hide">
						<input id="search-input" placeholder="Search for posts, authors, ..." name="s" spellcheck="false"/>
					</div>

					<main id="main" class="d-all cf" role="main" itemscope itemprop="mainContentOfPage" itemtype="http://schema.org/Blog">

						<div class="algoliasearchcontainer hide"></div>
						<div class="post-content">
							
								
              
              <article id="post-5418" class="cf post-5418 post type-post status-publish format-standard has-post-thumbnail hentry category-news" role="article" itemscope itemprop="blogPost" itemtype="http://schema.org/BlogPosting">

                <header class="article-header entry-header">

                  <h1 class="entry-title single-title" itemprop="headline" rel="bookmark">Behind the Scenes: Algolia Places</h1>

                  <p class="byline entry-meta vcard">
                    <img class="author-avatar" src="https://secure.gravatar.com/avatar/15705b7092e32cd80c32b0510ba59673?s=96&d=mm&r=g" onerror="this.onerror=null;this.src='https://blog.algolia.com/wp-content/themes/algolia/library/images/avatar-algolia.png'" />
                    <span class="entry-author author" itemprop="author" itemscope itemptype="http://schema.org/Person">Sylvain Utard</span> |
                    <time class="updated entry-time" datetime="2016-08-05" itemprop="datePublished">August 5, 2016</time> |
                    <span class="entry-categories"><a href="https://blog.algolia.com/category/news/" rel="category tag">News</a></span>
                  </p>

                                      <a href="https://blog.algolia.com/behind-the-scenes-algolia-places/" title="Behind the Scenes: Algolia Places">
                    <img width="720" height="400" src="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14-720x400.png" class="attachment-algolia-post-720 size-algolia-post-720 wp-post-image" alt="" srcset="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14-720x400.png 720w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14-320x178.png 320w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14-340x189.png 340w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.31.14.png 1246w" sizes="(max-width: 720px) 100vw, 720px" />                    </a>
                  
                </header> 
                <section class="entry-content cf" itemprop="articleBody">
                  <p class="lead"><span style="font-weight: 400;">All of us have at some point or the other been stuck in the middle of nowhere, desperately trying to locate an address, with our “fat fingers” for company; or abandoned a purchase in our virtual shopping baskets because it was too much trouble to fill out our entire address. </span></p>
<p><span style="font-weight: 400;">Algolia being Algolia, we wondered how we could reduce instances of this in our own way and </span><a href="https://blog.algolia.com/introducing-algolia-places/"><span style="font-weight: 400;">Algolia Places</span></a><span style="font-weight: 400;"> was born.</span></p>
<p><span style="font-weight: 400;">In case you haven’t heard, Algolia Places allows you to create beautiful address auto-completion menus with just a few lines of code; it can also be personalized and customized as per your use-case, not to mention enriched with additional sources of data. Today, we’d like to share the story of how we built Algolia Places with you. </span></p>
<h2><a id="how-did-we-do-it" class="anchor" href="#how-did-we-do-it" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How did we do it?</h2>
<h3><a id="step-1-data-collection" class="anchor" href="#step-1-data-collection" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Data Collection</h3>
<p><span style="font-weight: 400;">To build Algolia Places we relied on the open-source datasets provided by </span><a href="https://www.openstreetmap.org/"><span style="font-weight: 400;">OpenStreetMap</span></a><span style="font-weight: 400;"> &amp; </span><a href="http://www.geonames.org/"><span style="font-weight: 400;">GeoNames</span></a><span style="font-weight: 400;">. These datasets are actually very different from each other and we chose them for precisely this reason.</span></p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">The OpenStreetMap dataset contains map data: it basically constitutes of the geo representation (polygons, lines &amp; points) of about 200 million geographical features.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">The GeoNames dataset contains geographical names of about 9 million features: it’s a  regular list in the TSV format and contains names of every single city/country/place associated with some meta-data (population, zip codes, &#8230;).</span></li>
</ul>
<h3><a id="step-2-the-indices" class="anchor" href="#step-2-the-indices" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: The Indices</h3>
<ol>
<li style="font-weight: 400;">
<h3><a id="the-city-country-index" class="anchor" href="#the-city-country-index" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>The city &amp; country index</strong></h3>
</li>
</ol>
<p><span style="font-weight: 400;">In order to build the city and country search experience, we exclusively used the GeoNames dataset &#8211; it’s a pretty exhaustive list and is quite simple to parse.</span></p>
<p>For every single city &amp; country name on the TSV files, we created an Algolia record. These records not only include the variations and translated names of countries &amp; cities (if available), but also some meta-data such as associated postcodes, populations, location and various tags &amp; booleans we use for the ranking/filtering capabilities of our API.</p>
<p>The result? ~4 million records.</p>
<h3><a id="the-address-indices" class="anchor" href="#the-address-indices" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>The address indices</strong></h3>
<p><span style="font-weight: 400;">To build the address search experience (including countries, cities, streets &amp; notable places), we used both OpenStreetMap and GeoNames. </span></p>
<p><span style="font-weight: 400;">The OpenStreetMap initiative is wonderful but the underlying data is not always on point. Why?</span></p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">It may not always be exhaustive (especially for non-famous places)</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">It may sometimes include erroneous values (from our experience, postcodes used to be wrong)</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">It may contain duplicates</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">It may not always follow the same conventions across countries</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">It may lack some internationalisation/translations</span></li>
</ul>
<p><span style="font-weight: 400;">To convert the OSM map data into Algolia records, we imported the whole OSM planet (40GB compressed) inside a PostgreSQL+PostGIS engine. The resulting database was a whopping 600GB!</span></p>
<p><span style="font-weight: 400;">We then used Nominatim to export this huge database to an XML format, rebuilding the hierarchy of places. This actually brought an interesting problem to light: the raw map data of OSM doesn’t have any hierarchy, for instance you don’t have an obvious hierarchy/link between San Francisco, California and the United States. Nominatim was used to rebuild that hierarchy in the exported format so another tool could easily process it.</span></p>
<p><span style="font-weight: 400;">The resulting XML file weighs 150GB and looks somewhat like:</span></p>
<pre class="prettyprint"><code class="language-xml">&lt;osmStructured version="0.1" generator="Nominatim"&gt;
 &lt;add&gt;
  &lt;feature place_id="914093" type="R" id="71525" key="boundary" value="administrative" rank="12" importance="12" parent_place_id="913159" parent_type="R" parent_id="8649"&gt;
   &lt;names&gt;
    &lt;name type="alt_name:fr"&gt;Lutèce&lt;/name&gt;
    &lt;name type="alt_name:vi"&gt;Ba Lê&lt;/name&gt;
    &lt;name type="loc_name:fr"&gt;Panam&lt;/name&gt;
    &lt;name type="name"&gt;Paris&lt;/name&gt;
    &lt;name type="name:af"&gt;Parys&lt;/name&gt;
    &lt;name type="name:am"&gt;ፓሪስ&lt;/name&gt;
    &lt;name type="name:an"&gt;París&lt;/name&gt;
    &lt;name type="name:ar"&gt;باريس&lt;/name&gt;
   …
    &lt;name type="old_name:vi"&gt;Ba Lê&lt;/name&gt;
    &lt;name type="ref"&gt;75&lt;/name&gt;
   &lt;/names&gt;
   &lt;adminLevel&gt;6&lt;/adminLevel&gt;
   &lt;address&gt;
    &lt;state rank="8" type="R" id="8649" key="boundary" value="administrative" distance="0.236572214414259" isaddress="t"/&gt;
   &lt;/address&gt;
   &lt;tags&gt;
    &lt;tag type="wikipedia"&gt;fr:Paris&lt;/tag&gt;
   &lt;/tags&gt;
   &lt;osmGeometry&gt;POLYGON((2.224122 48.854199,2.224158 48.854615,2.224257 48.855241,2.224317 48.85555,2.224371 ….))&lt;/osmGeometry&gt;
  &lt;/feature&gt;
  …
 &lt;/add&gt;
&lt;/osmStructured&gt;

</code></pre>
<p>We also built a SAX parser to process the file and rebuild the features hierarchy by following the “parent_id” and “parent_place_id” XML attributes.</p>
<p>It turned out to be a tiny bit more complex than expected</p>
<ul>
<li><span style="font-weight: 400;">A lot of features were associated with duplicates and inconsistency:</span></li>
<li><span style="font-weight: 400;">Some cities have both “boundary/administrative” and “places/city” features, some have just one of them</span></li>
<li><span style="font-weight: 400;">A street is composed of several segments, so you might see several features representing the same street</span></li>
<li><span style="font-weight: 400;">There are some street names which are common to several cities, so we needed to have multiple records within Algolia</span></li>
</ul>
<p>…..some hierarchy couldn’t be resolved</p>
<ul>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Some features did not have any parents</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Some streets were attached to their countries but not cities</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Some cities are also states, so the hierarchy was very confusing</span></li>
</ul>
</ul>
<p>and some features also lacked some metadata.</p>
<ul>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">They weren’t associated with the corresponding population</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Some counties didn’t have postcodes</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Some cities didn’t have translations</span></li>
</ul>
</ul>
<p><span style="font-weight: 400;">Deduplication is generally super easy, but when you need to deduplicate 150GB of data, it leads to all sorts of new problems &#8211; in our case, we never seemed to have enough RAM! We also wanted to make sure that parsing was fast enough in order to avoid waiting days to build the Algolia records &#8230; after all, milliseconds matter!</span></p>
<p>So we tried to leverage the previously built GeoNames index as much as possible to fix the missing data we could hit with OSM; but since these 2 datasets didn’t share the same IDs, it was obviously way more complex to aggregate.</p>
<p>For performance reasons (more on that under “Search strategy”), we decided to build multiple indices from those records:</p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">1 index for the whole planet (~20M records)</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">1 index per country (~6M records for the US, ~1.5M records for France, ….)</span></li>
</ul>
<p>That’s about 60GB of indices.</p>
<p><span style="font-weight: 400;">Just so you have an idea, the overall parsing + record generation + indexing, takes ~12 hours at a time, today.</span></p>
<h3><a id="the-record-schema" class="anchor" href="#the-record-schema" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong> The record schema</strong></h3>
<p><span style="font-weight: 400;">Here’s what our final record schema looks like:</span></p>
<pre class="prettyprint"><code class="language-json">{
  "is_city": true,
  "is_country": false,
  "_tags": ["boundary", "boundary/administrative", "country/us", "city"],
  "country_code": "us",
  "_geoloc": [{"lng": -122.4192704, "lat": 37.7792768}],
  "country": {
    "zh": "美国",
    "ro": "Statele Unite ale Americii",
    "it": "Stati Uniti d'America",
    "hu": "Amerikai Egyesült Államok",
    "ar": "الولايات المتّحدة الأمريكيّة",
    "de": "Vereinigte Staaten von Amerika",
    "default": "United States of America",
    "pt": "Estados Unidos da América",
    "pl": "Stany Zjednoczone Ameryki",
    "fr": "États-Unis d'Amérique",
    "ru": "Соединённые Штаты Америки",
    "es": "Estados Unidos de América",
    "nl": "Verenigde Staten van Amerika",
    "ja": "アメリカ合衆国"
  },
  "admin_level": 8,
  "locale_names": {
    "zh": ["旧金山"],
    "default": ["San Francisco", "SF"],
    "pt": ["São Francisco"],
    "ru": ["Сан-Франциско"],
    "ja": ["サンフランシスコ"]
  },
  "importance": 16,
  "is_popular": true,
  "county": {
    "default": [ "San Francisco City and County", "San Francisco", "SF"],
    "ru": ["Сан-Франциско"]
  },
  "is_highway": false,
  "administrative": ["California"],
  "population": 815358,
  "postcode": ["94101", "94102", "94103", "94104", ….
  ]
}
</code></pre>
<p>&nbsp;</p>
<h3><a id="step-3-index-configuration" class="anchor" href="#step-3-index-configuration" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3: Index configuration</h3>
<p><span style="font-weight: 400;">We constructed the underlying Algolia indices with the following configuration:</span></p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Search works with all localized names, but considers the default name as the most important</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">The names are considered as more important than the city, the postcode, the county, the administrative area, the suburb, the village and even the country.</span></li>
</ul>
<img class="alignnone size-full wp-image-5419" src="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.22.57.png" alt="Screen Shot 2016-08-05 at 10.22.57" width="1226" height="602" srcset="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.22.57.png 1226w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.22.57-320x157.png 320w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.22.57-768x377.png 768w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.22.57-720x354.png 720w" sizes="(max-width: 1226px) 100vw, 1226px" />
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">We make sure to rank countries above cities and cities above streets, ensuring that we get the highest populated places first.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">In case the population is not set, we fall back on the OSM’s importance field; which reflects the importance of the underlying place.</span></li>
</ul>
<img class="alignnone size-full wp-image-5420" src="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.24.02.png" alt="Screen Shot 2016-08-05 at 10.24.02" width="1248" height="460" srcset="https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.24.02.png 1248w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.24.02-320x118.png 320w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.24.02-768x283.png 768w, https://blog.algolia.com/wp-content/uploads/2016/08/Screen-Shot-2016-08-05-at-10.24.02-720x265.png 720w" sizes="(max-width: 1248px) 100vw, 1248px" />
<h3><a id="step-4-the-search-strategy" class="anchor" href="#step-4-the-search-strategy" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 4: The search strategy</h3>
<p><span style="font-weight: 400;">We built a custom API endpoint to query the indices and implemented a custom querying strategy:</span></p>
<p><span style="font-weight: 400;">If the query is performed from your backend (and therefore doesn&#8217;t specify any </span><span style="font-weight: 400;"><code>aroundLatLng</code></span><span style="font-weight: 400;"> query parameter) or your source IP address isn&#8217;t geo-localized, the results will come from all around the world because we target the “planet” index.</span></p>
<p><span style="font-weight: 400;">Or, if the query is performed from the end-user browser or device (and hence specifies an </span><span style="font-weight: 400;"><code>aroundLatLng</code></span><span style="font-weight: 400;"> query parameter) or has a source IP address that is geo-localized), the results will be composed of:</span></p>
<ul>
<li><span style="font-weight: 400;">Nearby places</span>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Places around you (&lt;10km): this is a query using our <code>aroundRadius</code> feature,</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Places in your country: this is a query targeting the specific country index,</span></li>
</ul>
</li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Popular places all around the world u</span><span style="font-weight: 400;">sing a query targeting the “planet” index.</span></li>
</ul>
<ul>
<li><span style="font-weight: 400;">Specifying a </span><span style="font-weight: 400;">country</span><span style="font-weight: 400;"> query parameter will override this behavior, restricting the results to a subset of the specified countries only.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Numerical tokens in the query string are considered as optional words to make sure we always find the address even if the postcode &amp; house number are wrong.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">We also defined a list of stopwords and tagged every stopword of the query string as optional.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">We queried the underlying indices multiple times to ensure that:</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Popular places will always be retrieved first.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">Nearby places will always be better than places in your country, which are better than world-wide results.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">If both a </span><span style="font-weight: 400;">city</span><span style="font-weight: 400;"> and an </span><span style="font-weight: 400;">address</span><span style="font-weight: 400;"> match the query, the city will be retrieved first.</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">If the </span><span style="font-weight: 400;">query</span><span style="font-weight: 400;"> doesn&#8217;t retrieve any results, we fallback on a degraded query strategy where all words are considered optional and we only target cities.</span></li>
</ul>
<h2><a id="the-result" class="anchor" href="#the-result" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The Result</h2>
<p><span style="font-weight: 400;">We’ve had a great time building Algolia Places and the results today make all those coffee-fueled sleepless nights absolutely worth it. Here’s a quick look at them:</span></p>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">We’re hosting the Algolia Places infrastructure on 1 Algolia Cluster + 9 DSN replicas</span>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">3 main servers in Germany</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">4 DSN servers in France</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">4 DSN servers in US</span></li>
<li style="font-weight: 400;"><span style="font-weight: 400;">1 DSN server in Singapore</span></li>
</ul>
</li>
</ul>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Our Algolia Places infrastructure is currently processing </span><b>60 queries per second</b><span style="font-weight: 400;"> and provides answers in </span><b>20-30ms</b><span style="font-weight: 400;"> on an average.</span></li>
</ul>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">Our infrastructure is still at </span><b>&lt;3%</b><span style="font-weight: 400;"> of its capacity.</span></li>
</ul>
<ul>
<li style="font-weight: 400;"><span style="font-weight: 400;">We’ve reached </span><b>3200 stars</b><span style="font-weight: 400;"> on the <a href="https://github.com/algolia/places">GitHub repository</a> of the frontend JavaScript library and a bunch of positive feedback.</span></li>
</ul>
<h2><a id="want-to-use-it" class="anchor" href="#want-to-use-it" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Want to use it?</h2>
<p><span style="font-weight: 400;">Go for it, it could be FREE!</span></p>
<p><span style="font-weight: 400;">We’re providing a non-authenticated free plan limited to 1,000 queries a day and we increase the free plan usage to 100,000 a month if you </span><a href="http://www.algolia.com/users/sign_up/places"><span style="font-weight: 400;">signup</span></a><span style="font-weight: 400;">.</span></p>
<p><a class="btn-cta" style="text-align: center; width: 520px; margin: 0 auto; display: block; float: none;" href="https://community.algolia.com/places">Try Algolia Places now!</a></p>
<!--www.crestaproject.com Social Button in Content Start--><div id="crestashareiconincontent" class="cresta-share-icon first_style"><div class="sbutton  facebook-cresta-share" id="facebook-cresta-c"><a rel="nofollow" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F&amp;t=Behind+the+Scenes%3A+Algolia+Places" title="Share to Facebook" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-facebook"></i></a></div><div class="sbutton  twitter-cresta-share" id="twitter-cresta-c"><a rel="nofollow" href="https://twitter.com/share?text=Behind+the+Scenes%3A+Algolia+Places&amp;url=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F&amp;via=algolia" title="Share to Twitter" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-twitter"></i></a></div><div class="sbutton  linkedin-cresta-share" id="linkedin-cresta-c"><a rel="nofollow" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F&amp;title=Behind+the+Scenes%3A+Algolia+Places&amp;source=https://blog.algolia.com/" title="Share to LinkedIn" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-linkedin"></i></a></div><div style="clear: both;"></div></div><div style="clear: both;"></div><!--www.crestaproject.com Social Button in Content End-->                </section> 
                <!-- <footer class="article-footer">


                </footer>-->
                
                
<div id="disqus_thread">
    </div>

                                                  
              </article> 
							
													</div>

						<section id="subscribe-newsletter" class="cf">
    <div id="mc4wp-form-1" class="form mc4wp-form">
        <form action="https://go.pardot.com/l/139121/2016-06-09/f3kzm" method="post" role="form" lpformnum="1">
            <p>
                <input type="email" id="mc4wp_email" name="email" placeholder="Your email address" required="">
            </p>
            <p>
                <input type="submit" value="Sign up">
            </p>
        </form>
    </div>
</section>

					</main>

					
				</div>

			</div>

			<footer class="footer" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter">

				<div id="inner-footer" class="wrap cf">

          <a class="footer-logo" href="https://www.algolia.com">
            <img src="https://www.algolia.com/static_assets/images/flat2/algolia/algolia-logo-45a5b66b.svg" width="150" alt="algolia"/>
          </a>

          <p class="footer-tagline">We make instant and relevant search.<br>
          Easy for developers, delightful for the users.
          <p>

          <ul class="social-links">
            <li><a class="social-twitter" href="https://twitter.com/algolia"><i class="icon-twitter"></i></a></li>
            <li><a class="social-googleplus" href="https://plus.google.com/+Algolia"><i class="icon-google-plus"></i></a></li>
            <li><a class="social-facebook" href="https://www.facebook.com/algolia"><i class="icon-facebook2"></i></a></li>
            <li><a class="social-linkedin" href="https://www.linkedin.com/company/algolia"><i class="icon-linkedin2"></i></a></li>
            <li><a class="social-github" href="https://github.com/Algolia"><i class="icon-github2"></i></a></li>
          </ul>

					<p class="source-org copyright">&copy;Algolia - <a href="https://www.algolia.com/policies/privacy">Privacy Policy</a></p>

				</div>

			</footer>

		</div>

				<script type="text/template" id="autocomplete-template">
    <div class="result">
        <div class="title">
            {{#featureImage}}
            <img style="width: 30px" src="{{{ featureImage.sizes.thumbnail.file }}}" />
            {{/featureImage}}
            {{{ _highlightResult.title.value }}}
        </div>
    </div>
</script>

<script type="text/template" id="instant-content-template">
    <div class="search-sorting">
        <span class="label">Sort by</span>
        <select id="index_to_use">
            <option {{#sortSelected}}{{relevance_index_name}}{{/sortSelected}} value="{{relevance_index_name}}">Relevance</option>
            {{#sorting_indices}}
            <option {{#sortSelected}}{{index_name}}{{/sortSelected}} value="{{index_name}}">{{label}}</option>
            {{/sorting_indices}}
        </select>
    </div>
    <div class="cf spacer20"></div>
    <div class="hits-wrapper">
      {{#hits}}
          {{^query}}
              <div class="d-1of3 t-1of2" algolia-object-id="{{ objectID }}">
                  <article class="grid-entry grid-entry--columns">
                      <header class="article-header">
                          <a href="{{permalink}}"><img class="entry-illus" src="{{featureImage.sizes.medium.file}}"/></a>
                          <h1 class="h3 entry-title"><a href="{{permalink}}">{{{ _highlightResult.title.value }}}</a></h1>
                      </header>
                  </article>
              </div>
          {{/query}}

          {{#query}}
            <article class="grid-entry grid-entry--detailled" algolia-object-id="{{ objectID }}">
                <div class="d-1of3 t-1of3">
                    <a href="{{permalink}}"><img class="entry-illus" src="{{featureImage.sizes.medium.file}}"/></a>
                </div>
                <div class="d-2of3 t-2of3">
                    <h1 class="h3 entry-title"><a href="{{permalink}}">{{{ _highlightResult.title.value }}}</a></h1>

                    <span class="entry-author" data-tax="author" data-name="{{ author }}" >
                        <img class="author-avatar" src="{{ avatar_url }}" onerror="this.onerror=null;this.style.border='1px solid rgb(0, 164, 255)';this.src='/wp-content/themes/algolia/library/images/avatar-algolia.png'"/>
                        {{{ _highlightResult.author.value }}}
                    </span>
                    <span class="entry-date">{{#getDate}}{{date}}{{/getDate}}</span>
                    <p class="entry-desc">...{{{ _snippetResult.content.value }}}...</p>

                    <ul class="tags">
                    {{#_highlightResult.post_tag}}
                        <li class="match-{{matchLevel}}">{{{value}}}</li>
                    {{/_highlightResult.post_tag}}
                    </ul>
                </div>
                <div class="cf"></div>
            </article>
          {{/query}}

      {{/hits}}
    </div>
    {{^hits.length}}
    <div class="no-result">
      <div>No posts nor authors matched your query <strong>{{ query }}</strong>.</div>
      <div><a href="#" class="clear-button">clear search</a></div>
    </div>
    {{/hits.length}}
</script>


<script type="text/template" id="instant-facets-template">
    {{#facets}}
    {{#count}}
    <div class="search-filters {{tax}}">
        {{#facet_categorie_name}}
            <span class="label">
                {{ facet_categorie_name }}
            </span>
        {{/facet_categorie_name}}
        <ul>
            {{#sub_facets}}

                {{#type.conjunctive}}
                <li class="{{#checked}} checked {{/checked}} sub_facet conjunctive related-tag {{#hidden}} hide {{/hidden}}">
                    <input style="display: none;" data-tax="{{tax}}" {{#checked}} checked {{/checked}} data-name="{{name}}" class="facet_value" type="checkbox" />
                    {{name}}
                </li>
                {{/type.conjunctive}}

                {{#type.disjunctive}}
                <li class="{{#checked}} checked {{/checked}} sub_facet disjunctive">
                    <input style="display: none;" data-tax="{{tax}}" {{#checked}} checked {{/checked}} data-name="{{name}}" class="facet_value" type="checkbox" />
                    {{name}} {{#count}}({{count}}){{/count}}
                </li>
                {{/type.disjunctive}}

                {{#type.menu}}
                <li data-tax="{{tax}}" data-name="{{nameattr}}" data-type="menu" class="{{#checked}}checked {{/checked}}sub_facet disjunctive menu {{#category}}category{{/category}}">
                    <input style="display: none;" data-tax="{{tax}}" {{#checked}}checked{{/checked}} data-name="{{nameattr}}" class="facet_value" type="checkbox" />
                    {{name}} {{#print_count}}{{#count}}<span class="facet-count">{{count}}</span>{{/count}}{{/print_count}}
                </li>
                {{/type.menu}}

            {{/sub_facets}}
        </ul>
    </div>
    {{/count}}
    {{/facets}}
</script>



<script type="text/template" id="instant-pagination-template">
    <div class="pagination-wrapper cf">
        <ul class="pagination">
            <li {{^prev_page}}class="disabled"{{/prev_page}}>
                <a href="#" data-page="{{prev_page}}">
                    Previous
                </a>
            </li>

            {{#pages}}
            <li class="{{#current}}active{{/current}}{{#disabled}}disabled{{/disabled}}">
                <a href="#" data-page="{{number}}">
                    {{ number }}
                </a>
            </li>
            {{/pages}}

            <li {{^next_page}}class="disabled"{{/next_page}}>
                <a href="#" data-page="{{next_page}}">
                    Next
                </a>
            </li>
        </ul>
    </div>
</script>
<!--www.crestaproject.com Social Button Floating Start--><div id="crestashareicon" class="cresta-share-icon  first_style "><div class="sbutton  facebook-cresta-share float" id="facebook-cresta"><a rel="nofollow" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F&amp;t=Behind+the+Scenes%3A+Algolia+Places" title="Share to Facebook" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-facebook"></i></a></div><div class="sbutton  twitter-cresta-share float noCount" id="twitter-cresta"><a rel="nofollow" href="https://twitter.com/share?text=Behind+the+Scenes%3A+Algolia+Places&amp;url=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F&amp;via=algolia" title="Share to Twitter" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-twitter"></i></a></div><div class="sbutton  linkedin-cresta-share float" id="linkedin-cresta"><a rel="nofollow" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fblog.algolia.com%2Fbehind-the-scenes-algolia-places%2F&amp;title=Behind+the+Scenes%3A+Algolia+Places&amp;source=https://blog.algolia.com/" title="Share to LinkedIn" onclick="window.open(this.href,'targetWindow','toolbars=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=640,height=320,left=200,top=200');return false;"><i class="cs c-icon-cresta-linkedin"></i></a></div><div style="clear: both;"></div></div>

<!--www.crestaproject.com Social Button Floating End-->
<link rel='stylesheet' id='hljstheme-css'  href='https://blog.algolia.com/wp-content/plugins/wp-code-highlightjs/styles/monokai-sublime.css' type='text/css' media='all' />
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/cresta-social-share-counter/js/jquery.cresta-social-effect.js'></script>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/themes/algolia/library/js/scripts.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-includes/js/wp-embed.min.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/wp-code-highlightjs/highlight.common.pack.js'></script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/wp-code-highlightjs/highlight.custom.pack.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.7.5","language":""},"disqusIdentifier":"5418 https:\/\/blog.algolia.com\/?p=5418","disqusShortname":"algoliablog","disqusTitle":"Behind the Scenes: Algolia Places","disqusUrl":"https:\/\/blog.algolia.com\/behind-the-scenes-algolia-places\/","options":{"manualSync":false},"postId":"5418"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/disqus-comment-system/media/js/disqus.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"algoliablog"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blog.algolia.com/wp-content/plugins/disqus-comment-system/media/js/count.js'></script>
    <style>pre.hljs {padding: 5px;}
pre.hljs code {}
pre code.hljs { background: none; } </style>
    <script type="text/javascript">
    (function($, window) {
        var init_fn_flag = false;
        var init_fn = (function() {
            if (init_fn_flag)
                return;
            init_fn_flag = true;
             hljs.configure({"tabReplace":"    "});
            $('pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });
        });
        $(document).ready(init_fn);
        $(window).on("load", init_fn);
    })(jQuery, window);
    </script>
<script type='text/javascript' src='https://stats.wp.com/e-201721.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.7.1',blog:'116008343',post:'5418',tz:'-7',srv:'blog.algolia.com'} ]);
	_stq.push([ 'clickTrackerInit', '116008343', '5418' ]);
</script>

	</body>

</html> <!-- end of site. what a ride! -->
